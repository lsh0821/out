(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1430:function(t,e,n){"use strict";var o=n(37),i=n.n(o),r=n(236),a=n.n(r),l=n(1444),c=n.n(l),s=n(0),p=n(98),d=n(35),u=n(19),m=n(1399),h=function(t,e){var n=t[e].split("px"),o=i()(n,1)[0];return a()(+o,2)};e.a=function(t){var e=Object(s.useState)(""),n=i()(e,2),o=n[0],r=n[1],l=Object(s.useState)(-1),f=i()(l,2),g=f[0],b=f[1],_=Object(s.useState)(-1),v=i()(_,2),C=v[0],w=v[1],y=Object(s.useState)(0),x=i()(y,2),j=x[0],P=x[1],O=Object(s.useState)(!1),E=i()(O,2),I=E[0],k=E[1],M=Object(s.useRef)(null);Object(s.useEffect)((function(){if(t&&M.current){var e,n,o,i,l=(e=M.current,n=Object(d.f)().getComputedStyle(e),{lineHeight:h(n,"lineHeight"),fontSize:h(n,"fontSize"),top:e.getBoundingClientRect().top,childNodes:e.querySelectorAll("div[id^=".concat(m.b,"]"))}),s=l.lineHeight,p=l.fontSize,f=l.top,g=l.childNodes;o=0,i=0,c()(g).some((function(e,n){var l=function(t){var e=t.node,n=t.lineHeight,o=t.wrapperTop,i=e.getBoundingClientRect(),r=i.height,l=i.top,c=a()(r,2),s=!!e.classList.contains(m.a);return{isEmptyLine:s,height:c,topFromWrapper:l-o,lineCount:s?1:a()(c/n)}}({node:e,lineHeight:s,wrapperTop:f}),c=l.isEmptyLine,d=l.height,h=l.topFromWrapper,_=l.lineCount;if(0===d)return!1;if((i+=_)<t)return o=i,!1;var v,C,y=i===t,x=n===g.length-1;if(y){if(x)return!0;v=e,C=document.createTextNode("\n".concat("​")),v.appendChild(C),u.d&&c&&k(!0)}var j,O,E,I,M=y?_:t-o,N=y?h+d:h+s*M;return j=e.id,O=M,E=N,I=p,r(j),b(O),w(E),P(I),!0}))}}),[t]);var N=Object(s.useMemo)((function(){return""===o||-1===g||-1===C}),[o,g,C]),S=Object(s.useMemo)((function(){return Object(p.c)(["max-height:","px !important;overflow:hidden !important;div#","{display:-webkit-box !important;text-overflow:ellipsis !important;-webkit-box-orient:vertical !important;-webkit-line-clamp:"," !important;","}"],C,o,g,I&&Object(p.c)(["line-height:","px !important;transform:translateY(-5px) !important;"],j))}),[o,g,C,I,j]);return[M,N?void 0:S]}},1431:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o={FULL_SCREEN:14,FULL_SCREEN_WITH_PREVIEW:8,PARTIAL_SCREEN:8,PARTIAL_SCREEN_WITH_PREVIEW:4,BUBBLE:2,BUBBLE_WITH_FILE_WITHOUT_PREVIEW:1,WELCOME_USER_CHAT:8,WELCOME_USER_CHAT_WITH_MINIMIZE:2,USER_CHAT_PREVIEW:2}},1444:function(t,e,n){t.exports=n(1445)},1445:function(t,e,n){var o=n(782);t.exports=o},1615:function(t,e,n){"use strict";n.r(e);var o=n(37),i=n.n(o),r=n(44),a=n.n(r),l=n(0),c=n.n(l),s=n(115),p=n.n(s),d=n(49),u=n(20),m=n(17),h=n(188);var f=function(){return Object(d.d)(u.a.pluginSelectors.getPlugin)},g=n(1412),b=n(1394),_=n(1417),v=n(103),C=n(1408),w=n(38),y=n(55),x=n(336),j=n(520),P=n(19),O=n(35),E=n(100),I=n(21),k=n(253),M=n(1430),N=n(169),S=n(1448),W=n(83),B=n(324),F=n.n(B),z=n(13),A=n.n(z),T=n(200),R=n(161),L=n(216),q=n.n(L);function U(t,e){"function"==typeof t?t(e):t&&(t.current=e)}var H=n(1435),V=n(5),Y={VideoWrapper:V.d.div.withConfig({displayName:"VideoFilestyled__VideoWrapper",componentId:"ch-front__sc-ju22xl-0"})(["position:relative !important;display:flex !important;align-items:center !important;justify-content:center !important;"]),Video:V.d.video.withConfig({displayName:"VideoFilestyled__Video",componentId:"ch-front__sc-ju22xl-1"})(["display:block !important;max-width:100% !important;max-height:100% !important;object-fit:cover !important;",""],(function(t){return t.isMobilePopup&&Object(V.c)(["border-radius:12px !important;"])})),SVGIcon:Object(V.d)(W.b).withConfig({displayName:"VideoFilestyled__SVGIcon",componentId:"ch-front__sc-ju22xl-2"})(["position:absolute !important;top:0 !important;right:0 !important;"])};function D(t,e){var n=t.height,o=t.width,r=t.file,s=t.isMobilePopup,p=t.onEvent,d=void 0===p?a.a:p,u=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return c.a.useCallback((function(t){var n=A()(e).call(e,Boolean);return n.length?0===n.length?n[0]:void n.forEach((function(e){return U(e,t)})):null}),[e])}(Object(l.useRef)(null),e),m=Object(H.a)(r.isPrivateFile()?r.getUrl():void 0),h=i()(m,1)[0],f=r.isPrivateFile()?h:r.getUrl(),g=Object(l.useRef)(-1),b=Object(l.useCallback)((function(t){g.current=t.timeStamp}),[]),_=Object(l.useCallback)((function(t){t.timeStamp-g.current>300&&d()}),[d]),v=Object(l.useCallback)(q()((function(){d()}),100,{trailing:!0}),[d]),C=Object(l.useCallback)((function(t){-1!==g.current&&t.timeStamp-g.current>300&&d()}),[d]);return c.a.createElement(Y.VideoWrapper,{style:{width:o,height:n}},c.a.createElement(Y.Video,{ref:u,height:n,width:o,src:f,isMobilePopup:s,poster:r.getThumbUrl(o,n,"contain"),autoPlay:!0,muted:!0,playsInline:!0,controls:!0,loop:!0,onPlay:_,onCanPlay:b,onSeeked:v,onVolumeChange:C,onClick:d}))}var X=Object(l.forwardRef)(D),G=n(12),J=n.n(G),Z=520,K=320;function Q(t,e,n){var o=16/9,i=J()(n,"width",0)/J()(n,"height",0);return e&&!t?i>o?{width:127,height:72}:i<1?{width:72,height:72}:{width:72*i,height:72}:e&&t||!e&&!t?i>o?{width:K,height:180}:i<1?{width:K,height:K}:{width:K,height:K/i}:i>o?{width:Z,height:292}:i<1?{width:Z,height:Z}:{width:Z,height:Z/i}}var $={Image:V.d.div.withConfig({displayName:"ImageFilestyled__Image",componentId:"ch-front__sc-zrf27x-0"})(["position:relative !important;width:","px !important;min-width:","px !important;height:","px !important;background-image:url(",") !important;background-repeat:no-repeat;background-position:center !important;background-size:cover !important;",""],(function(t){return t.width}),(function(t){return t.width}),(function(t){return t.height}),(function(t){return t.url}),(function(t){return t.isMobilePopup&&Object(V.c)(["border-radius:12px !important;"])}))};function tt(t,e){var n=t.height,o=t.width,r=t.file,a=t.isFullScreen,l=Q(a,P.j,r),s=l.width,p=l.height,d=s*window.devicePixelRatio,u=p*window.devicePixelRatio,m=Object(H.a)(r.isPrivateFile()?r.getThumbUrl(d,u):void 0),h=i()(m,1)[0],f=r.isPrivateFile()?h:r.getThumbUrl(d,u);return f?c.a.createElement($.Image,{ref:e,height:n,width:o,url:f,isMobilePopup:P.j&&!a}):null}var et=Object(l.forwardRef)(tt),nt=n(8),ot=n.n(nt),it=n(32),rt=n.n(it),at=n(72),lt=n.n(at);var ct=function(t){var e=Object(l.useState)({state:t}),n=i()(e,2),o=n[0],r=n[1],a=o.resolve,c=o.state;return a&&(a(),o.resolve=void 0),[c,function(t){return new lt.a((function(e){r({resolve:e,state:t})}))}]},st=n(735),pt=n(107),dt=n(46),ut=n(1495),mt=n(189),ht=n(50),ft={FileWrapper:V.d.div.withConfig({displayName:"Filestyled__FileWrapper",componentId:"ch-front__sc-1h9g6gw-0"})(["display:flex;align-items:center;width:100%;font-weight:500;",""],ht.d.PxSize13),ClipWrapper:V.d.div.withConfig({displayName:"Filestyled__ClipWrapper",componentId:"ch-front__sc-1h9g6gw-1"})(["display:flex;flex-shrink:0;align-items:center;justify-content:center;width:20px;height:18px;"]),Name:V.d.div.withConfig({displayName:"Filestyled__Name",componentId:"ch-front__sc-1h9g6gw-2"})(["margin-left:4px;overflow:hidden;color:",";text-overflow:ellipsis;white-space:nowrap;"],(function(t){var e=t.foundation;return null==e?void 0:e.theme["txt-black-darker"]})),Count:V.d.div.withConfig({displayName:"Filestyled__Count",componentId:"ch-front__sc-1h9g6gw-3"})(["flex-shrink:0;margin-left:4px;color:",";"],(function(t){var e=t.foundation;return null==e?void 0:e.theme["txt-black-dark"]}))};var gt=function(t){var e,n=t.className,o=t.files;return o.length<=0?null:c.a.createElement(ft.FileWrapper,{className:n},c.a.createElement(ft.ClipWrapper,null,c.a.createElement(W.b,{name:"clip",size:W.a.XSmall,defaultOpacity:.6,hoveredOpacity:.6})),c.a.createElement(ft.Name,null,null===(e=o[0])||void 0===e?void 0:e.name),c.a.createElement(ft.Count,null,o.length>1?"+".concat(o.length-1):null))},bt=n(96),_t=10,vt=10,Ct=24,wt=V.d.button.withConfig({displayName:"Commonstyled__ContentCloseArea",componentId:"ch-front__sc-18oqljn-0"})(["position:absolute !important;top:0 !important;right:0 !important;display:block;"]),yt=V.d.div.withConfig({displayName:"Commonstyled__ContentCloseButton",componentId:"ch-front__sc-18oqljn-1"})(["box-sizing:border-box !important;display:"," !important;align-items:center !important;width:24px !important;height:24px !important;padding:4px !important;color:"," !important;cursor:pointer !important;background-color:"," !important;border-radius:12px !important;&:hover{color:"," !important;background-color:"," !important;}"],(function(t){return t.hasPreview?"none":"flex"}),(function(t){var e=t.foundation;return null==e?void 0:e.theme["txt-black-dark"]}),(function(t){var e=t.foundation;return null==e?void 0:e.theme["bg-black-lighter"]}),(function(t){var e=t.foundation;return null==e?void 0:e.theme["txt-black-darkest"]}),(function(t){var e=t.foundation;return null==e?void 0:e.theme["bg-black-light"]})),xt=V.d.div.withConfig({displayName:"Commonstyled__CloseText",componentId:"ch-front__sc-18oqljn-2"})(["display:flex !important;align-items:center !important;max-width:0 !important;overflow:hidden;"," font-weight:bold !important;color:"," !important;white-space:nowrap !important;opacity:0 !important;transition:opacity 0.2s,max-width 0.2s ease-out !important;transform:translateY(-0.25px);"],ht.d.PxSize13,(function(t){var e=t.foundation;return null==e?void 0:e.theme["bgtxt-absolute-white-dark"]}));var jt=V.d.div.withConfig({displayName:"Commonstyled__PreviewCloseButton",componentId:"ch-front__sc-18oqljn-3"})(["box-sizing:border-box !important;display:"," !important;align-items:center !important;"," color:"," !important;cursor:pointer !important;background-color:"," !important;transition:padding 0.2s ease-out,color 0.2s ease-out,background-color 0.2s ease-out !important;"],(function(t){return t.hasPreview?"flex":"none"}),(function(t){return t.isPhone?Object(V.c)(["height:30px !important;padding:5px !important;border-radius:15px !important;"]):Object(V.c)(["height:24px !important;padding:4px !important;border-radius:12px !important;"])}),(function(t){var e=t.foundation;return null==e?void 0:e.theme["bgtxt-absolute-white-normal"]}),(function(t){var e=t.foundation;return null==e?void 0:e.theme["bgtxt-absolute-black-lightest"]})),Pt=V.d.button.withConfig({displayName:"Commonstyled__PreviewCloseArea",componentId:"ch-front__sc-18oqljn-4"})(["position:relative !important;display:block;height:","px !important;",""],(function(t){return t.isPhone?36:28}),(function(t){return!t.isPhone&&Object(V.c)(["&:hover ","{padding:3px 7px 3px 4px !important;color:"," !important;background-color:"," !important;}&:hover ","{max-width:40px !important;opacity:1 !important;}"],jt,(function(t){var e=t.foundation;return null==e?void 0:e.theme["bgtxt-absolute-white-dark"]}),(function(t){var e=t.foundation;return null==e?void 0:e.theme["bgtxt-absolute-black-lighter"]}),xt)})),Ot=Object(V.d)(pt.a).withConfig({displayName:"Commonstyled__CloseIcon",componentId:"ch-front__sc-18oqljn-5"})(["display:block !important;"]),Et=V.d.div.withConfig({displayName:"Commonstyled__BaseWrapper",componentId:"ch-front__sc-18oqljn-6"})(["position:relative !important;display:flex !important;flex-direction:column !important;align-items:flex-end !important;width:100% !important;height:max-content !important;overflow:visible !important;"]),It=V.d.div.withConfig({displayName:"Commonstyled__Wrapper",componentId:"ch-front__sc-18oqljn-7"})(["position:relative !important;display:"," !important;flex-direction:column !important;overflow:hidden !important;cursor:pointer !important;background:rgba(255,255,255,0.95) !important;border-radius:20px !important;box-shadow:0 4px 20px rgba(0,0,0,0.2),inset 0 0 0 1px rgba(255,255,255,0.2) !important;@supports (backdrop-filter:blur()) or (-webkit-backdrop-filter:blur()){background:"," !important;backdrop-filter:blur(60px) !important;}"],(function(t){return t.hidden?"none":"flex"}),(function(t){var e=t.foundation;return null==e?void 0:e.theme["bg-header-float"]})),kt=V.d.div.withConfig({displayName:"Commonstyled__ContentHeader",componentId:"ch-front__sc-18oqljn-8"})(["display:flex !important;align-items:center !important;overflow:hidden !important;"]),Mt=Object(V.d)(mt.a).withConfig({displayName:"Commonstyled__Avatar",componentId:"ch-front__sc-18oqljn-9"})(["flex-shrink:0 !important;margin-right:10px !important;"]),Nt=V.d.div.withConfig({displayName:"Commonstyled__MessageWrapper",componentId:"ch-front__sc-18oqljn-10"})(["padding:0 2px !important;margin-top:10px !important;color:black !important;",""],dt.o),St=Object(V.d)(gt).withConfig({displayName:"Commonstyled__File",componentId:"ch-front__sc-18oqljn-11"})(["margin-top:10px !important;"]),Wt=V.d.div.withConfig({displayName:"Commonstyled__PreviewSection",componentId:"ch-front__sc-18oqljn-12"})(["box-sizing:border-box !important;width:100% !important;"]),Bt=V.d.div.withConfig({displayName:"Commonstyled__ContentSection",componentId:"ch-front__sc-18oqljn-13"})(["box-sizing:border-box !important;display:flex !important;flex-direction:column !important;width:100% !important;padding:","px ","px 0 !important;"],Ct,Ct),Ft=Object(V.d)(ut.a).withConfig({displayName:"Commonstyled__Buttons",componentId:"ch-front__sc-18oqljn-14"})(["box-sizing:border-box !important;"," flex-direction:row !important;justify-content:center !important;& > a:not(:first-child){margin-left:6px !important;}"],ht.d.PxSize15),zt=V.d.div.withConfig({displayName:"Commonstyled__ChannelName",componentId:"ch-front__sc-18oqljn-15"})(["flex-shrink:1 !important;",""],Object(bt.a)()),At=V.d.div.withConfig({displayName:"Commonstyled__Dot",componentId:"ch-front__sc-18oqljn-16"})(["flex-shrink:0 !important;margin:0 6px !important;"]),Tt=V.d.div.withConfig({displayName:"Commonstyled__Time",componentId:"ch-front__sc-18oqljn-17"})(["flex-shrink:0 !important;",""],ht.d.PxSize11),Rt=V.d.div.withConfig({displayName:"Commonstyled__MessageInfo",componentId:"ch-front__sc-18oqljn-18"})(["display:flex !important;flex-shrink:1 !important;margin-right:","px !important;overflow:hidden !important;font-weight:400 !important;"," & *{color:"," !important;}"],(function(t){return t.hasPreview?6:30}),ht.d.PxSize11,(function(t){var e=t.foundation;return null==e?void 0:e.theme["txt-black-dark"]})),Lt={ContentCloseArea:wt,ContentCloseButton:yt,CloseText:xt,PreviewCloseArea:Pt,PreviewCloseButton:jt,CloseIcon:Ot,BaseWrapper:Et,Wrapper:It,ContentHeader:kt,Avatar:Mt,MessageWrapper:Nt,PreviewSection:Wt,ContentSection:Bt,File:St,Buttons:Ft,ChannelName:zt,Dot:At,Time:Tt,MessageInfo:Rt},qt=V.d.div.withConfig({displayName:"Carouselstyled__UIWrapper",componentId:"ch-front__sc-1j8lcbr-0"})(["position:absolute !important;top:0 !important;right:10px !important;bottom:0 !important;left:10px !important;display:none !important;align-items:center !important;justify-content:space-between !important;pointer-events:none !important;"]),Ut={UIWrapper:qt,NextButton:V.d.div.withConfig({displayName:"Carouselstyled__NextButton",componentId:"ch-front__sc-1j8lcbr-1"})(["display:flex !important;align-items:center !important;justify-content:center !important;width:","px !important;height:","px !important;color:"," !important;pointer-events:auto !important;cursor:pointer !important;background-color:"," !important;border-radius:50% !important;box-shadow:0 0 2px 1px rgba(0,0,0,0.05),0 2px 6px rgba(0,0,0,0.08),inset 0 0 2px rgba(255,255,255,0.12) !important;opacity:1 !important;",""],(function(t){return t.isPCFullscreen?36:24}),(function(t){return t.isPCFullscreen?36:24}),(function(t){var e=t.foundation;return null==e?void 0:e.theme["txt-black-dark"]}),(function(t){var e=t.foundation;return null==e?void 0:e.theme["bg-white-low"]}),(function(t){return t.hide&&Object(V.c)(["opacity:0 !important;"])})),Chevron:Object(V.d)(pt.a).withConfig({displayName:"Carouselstyled__Chevron",componentId:"ch-front__sc-1j8lcbr-2"})(["",""],(function(t){return t.right&&Object(V.c)(["transform:rotate(180deg) !important;"])})),Wrapper:V.d.div.withConfig({displayName:"Carouselstyled__Wrapper",componentId:"ch-front__sc-1j8lcbr-3"})(["position:relative !important;width:","px !important;height:","px !important;background-color:"," !important;&:hover ","{display:flex !important;}"],(function(t){return t.width}),(function(t){return t.height}),(function(t){var e=t.foundation;return null==e?void 0:e.theme["bg-white-high"]}),qt),ScrollWrapper:V.d.div.withConfig({displayName:"Carouselstyled__ScrollWrapper",componentId:"ch-front__sc-1j8lcbr-4"})(["width:100% !important;height:100% !important;overflow:scroll !important;"," ",""],Object(bt.b)(),(function(t){return t.snap&&Object(V.c)(["scroll-snap-type:x mandatory !important;"])})),ContentsWrapper:V.d.div.withConfig({displayName:"Carouselstyled__ContentsWrapper",componentId:"ch-front__sc-1j8lcbr-5"})(["display:flex !important;"]),Content:V.d.div.withConfig({displayName:"Carouselstyled__Content",componentId:"ch-front__sc-1j8lcbr-6"})(["display:flex !important;justify-content:center !important;scroll-snap-align:center !important;scroll-snap-stop:normal !important;width:100% !important;height:100% !important;"]),Page:V.d.div.withConfig({displayName:"Carouselstyled__Page",componentId:"ch-front__sc-1j8lcbr-7"})(["position:absolute !important;right:","px !important;bottom:","px !important;padding:4px 6px !important;font-weight:500 !important;"," color:"," !important;background-color:"," !important;border-radius:10px !important;"],(function(t){return t.isPCFullscreen?Ct:vt}),(function(t){return t.isPCFullscreen?Ct:vt}),ht.d.PxSize11,(function(t){var e=t.foundation;return null==e?void 0:e.theme["bgtxt-absolute-white-dark"]}),(function(t){var e=t.foundation;return null==e?void 0:e.theme["bgtxt-absolute-black-lightest"]}))};var Ht=function(t){var e=t.isFullScreen,n=t.files,o=e&&!P.j,r=Object(l.useMemo)((function(){return J()(n,0)}),[n]),a=Object(l.useMemo)((function(){return Q(e,P.j,r)}),[r,e]).height,s=Object(l.useMemo)((function(){return function(t,e){return t&&!e?Z:!t&&e?127:K}(e,P.j)}),[e]),p=Object(l.useState)(0),d=i()(p,2),u=d[0],m=d[1],h=Object(l.useState)(null),f=i()(h,2),g=f[0],b=f[1],_=Object(l.useRef)(new Array(n.length));Object(l.useEffect)((function(){_.current.forEach((function(t,e){n[e].type===R.b.Video&&t.pause()}),[]),n[u].type===R.b.Video&&_.current[u].play()}),[n,u]);var v=Object(l.useCallback)((function(t,n){return t.type===R.b.Image?c.a.createElement(Ut.Content,{key:t.id},c.a.createElement(et,{ref:function(t){_.current[n]=t},width:s,height:a,file:t,isFullScreen:e})):t.type===R.b.Video?c.a.createElement(Ut.Content,{key:t.id},c.a.createElement(X,{ref:function(t){_.current[n]=t},width:s,height:a,file:t,isMobilePopup:P.j&&!e})):null}),[a,s,e]),C=ct(!0),w=i()(C,2),y=w[0],x=w[1],j=Object(l.useCallback)((function(){x(!0)}),[x]),O=Object(l.useMemo)((function(){return Object(st.a)(g,{duration:300,axis:"horizontal"},j)}),[j,g]),E=Object(l.useCallback)((function(){var t,e=null!==(t=null==g?void 0:g.scrollLeft)&&void 0!==t?t:0,n=Math.floor((e+s/2)/s);n!==u&&m(n)}),[g,s,u]),I=Object(l.useCallback)((function(t){t.stopPropagation(),u>0&&x(!1).then((function(){return O(-s)}))}),[u,s,O,x]),k=Object(l.useCallback)((function(t){t.stopPropagation(),u<n.length-1&&x(!1).then((function(){return O(s)}))}),[u,n.length,s,O,x]),M=Object(l.useMemo)((function(){var t;return c.a.createElement(c.a.Fragment,null,!P.j&&c.a.createElement(Ut.UIWrapper,null,c.a.createElement(Ut.NextButton,{hide:u<=0,isPCFullscreen:o,onClick:I},c.a.createElement(Ut.Chevron,{name:"chevron-left",size:o?W.a.Small:W.a.XSmall,defaultOpacity:1})),c.a.createElement(Ut.NextButton,{hide:u>=n.length-1,isPCFullscreen:o,onClick:k},c.a.createElement(Ut.Chevron,{name:"chevron-left",size:o?W.a.Small:W.a.XSmall,defaultOpacity:1,right:!0}))),c.a.createElement(Ut.Page,{isPCFullscreen:o},ot()(t="".concat(u+1,"/")).call(t,n.length)))}),[u,n.length,o,k,I]);return c.a.createElement(Ut.Wrapper,{width:s,height:a},c.a.createElement(Ut.ScrollWrapper,{onScroll:E,ref:b,snap:y},c.a.createElement(Ut.ContentsWrapper,null,rt()(n).call(n,v))),M)},Vt=n(1497),Yt=V.d.div.withConfig({displayName:"PreviewAttachmentstyled__YoutubeWrapper",componentId:"ch-front__sc-ith67n-0"})(["flex:none !important;width:","px !important;height:","px !important;overflow:hidden !important;transform:translateZ(0) !important;",""],(function(t){return t.width}),(function(t){return t.height}),(function(t){return t.isMobilePopup&&Object(V.c)(["border-radius:12px !important;"])})),Dt={Youtube:Object(V.d)(Vt.a).withConfig({displayName:"PreviewAttachmentstyled__Youtube",componentId:"ch-front__sc-ith67n-1"})(["display:block !important;"]),YoutubeWrapper:Yt,WebPage:V.d.div.withConfig({displayName:"PreviewAttachmentstyled__WebPage",componentId:"ch-front__sc-ith67n-2"})(["position:relative !important;width:","px !important;height:","px !important;background-image:url(",");background-position:center !important;background-size:cover !important;",""],(function(t){return t.width}),(function(t){return t.height}),(function(t){return t.url}),(function(t){return t.isMobilePopup&&Object(V.c)(["border-radius:12px !important;"])}))};var Xt=function(t){var e=t.message,n=t.onClick,o=e.getOrderedFiles(),i=F()(o,(function(t){return t.type===R.b.Video&&Object(T.b)(t.contentType)})),r=F()(o,(function(t){return t.type===R.b.Image})),a=e.getWebPage(),l=e.isFullScreen(),s=A()(o).call(o,(function(t){return t.isPreviewable()}));if((!P.j||l)&&s.length>1)return c.a.createElement(Ht,{files:s,isFullScreen:l});if(i)return c.a.createElement(X,{height:Q(l,P.j,i).height,width:Q(l,P.j,i).width,file:i,isMobilePopup:P.j&&!l,onEvent:n});if(r){var p=Q(l,P.j,r),d=p.width,u=p.height;return c.a.createElement(et,{width:d,height:u,file:r,isFullScreen:l})}if(a){if(a.isYouTube()){var m=Q(l,P.j,a),h=m.width,f=m.height;return c.a.createElement(Dt.YoutubeWrapper,{width:h,height:f,isMobilePopup:P.j&&!l},c.a.createElement(Dt.Youtube,{width:h,height:f,videoId:a.getYouTubeId(),onClick:n}))}var g=a.getPreviewThumbUrl();if(g)return c.a.createElement(Dt.WebPage,{height:Q(l,P.j,a).height,width:Q(l,P.j,a).width,url:g,isMobilePopup:P.j&&!l})}return null},Gt=n(1431),Jt=n(9),Zt=n.n(Jt),Kt=n(6),Qt=n.n(Kt),$t=n(4),te=n.n($t),ee=n(7),ne=n.n(ee),oe=n(1),ie=n.n(oe),re=n(1399);function ae(t,e){var n=Zt()(t);if(Qt.a){var o=Qt()(t);e&&(o=A()(o).call(o,(function(e){return te()(t,e).enumerable}))),n.push.apply(n,o)}return n}function le(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ae(Object(n),!0).forEach((function(e){ie()(t,e,n[e])})):ne.a?Object.defineProperties(t,ne()(n)):ae(Object(n)).forEach((function(e){Object.defineProperty(t,e,te()(n,e))}))}return t}var ce=Object(V.d)(Lt.ContentCloseArea).withConfig({displayName:"FullScreenPushMessagestyled__ContentCloseArea",componentId:"ch-front__sc-nxoc25-0"})(["padding-top:","px !important;padding-right:","px !important;opacity:"," !important;"],Ct,Ct,(function(t){return t.show?1:0})),se=Object(V.d)(Lt.PreviewCloseArea).withConfig({displayName:"FullScreenPushMessagestyled__PreviewCloseArea",componentId:"ch-front__sc-nxoc25-1"})(["opacity:"," !important;"],(function(t){return t.show?1:0})),pe=Object(V.d)(Lt.Wrapper).withConfig({displayName:"FullScreenPushMessagestyled__Wrapper",componentId:"ch-front__sc-nxoc25-2"})(["width:100% !important;padding-bottom:","px !important;"],(function(t){return t.hasOnlyPreview?0:Ct})),de=V.d.div.withConfig({displayName:"FullScreenPushMessagestyled__Name",componentId:"ch-front__sc-nxoc25-3"})(["flex-shrink:1 !important;margin-right:10px !important;font-weight:bold !important;"," color:"," !important;",""],ht.d.PxSize15,(function(t){var e=t.foundation;return null==e?void 0:e.theme["txt-black-darkest"]}),Object(bt.a)()),ue=Object(V.d)(Lt.MessageWrapper).withConfig({displayName:"FullScreenPushMessagestyled__MessageWrapper",componentId:"ch-front__sc-nxoc25-4"})([""," > div{"," border-radius:0 !important;}div.","{height:","px !important;}"],dt.o,ht.d.PxSize16,re.a,ht.a.Lh16*ht.c/2),me=Object(V.d)(Lt.Buttons).withConfig({displayName:"FullScreenPushMessagestyled__Buttons",componentId:"ch-front__sc-nxoc25-5"})(["padding:20px ","px 0 !important;"],Ct),he=le(le({},Lt),{},{ContentCloseArea:ce,PreviewCloseArea:se,Wrapper:pe,Name:de,MessageWrapper:ue,Buttons:me});function fe(t,e){var n=Zt()(t);if(Qt.a){var o=Qt()(t);e&&(o=A()(o).call(o,(function(e){return te()(t,e).enumerable}))),n.push.apply(n,o)}return n}function ge(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fe(Object(n),!0).forEach((function(e){ie()(t,e,n[e])})):ne.a?Object.defineProperties(t,ne()(n)):fe(Object(n)).forEach((function(e){Object.defineProperty(t,e,te()(n,e))}))}return t}var be=Object(V.d)(Lt.ContentCloseArea).withConfig({displayName:"PartialScreenPushMessagestyled__ContentCloseArea",componentId:"ch-front__sc-1zryw7-0"})(["padding-top:","px !important;padding-right:","px !important;",""],vt,vt,(function(t){var e=t.show;return!P.j&&Object(V.c)(["opacity:"," !important;"],e?1:0)})),_e=Object(V.d)(Lt.PreviewCloseArea).withConfig({displayName:"PartialScreenPushMessagestyled__PreviewCloseArea",componentId:"ch-front__sc-1zryw7-1"})(["",""],(function(t){var e=t.show;return!P.j&&Object(V.c)(["opacity:"," !important;"],e?1:0)})),ve=Object(V.d)(Lt.Wrapper).withConfig({displayName:"PartialScreenPushMessagestyled__Wrapper",componentId:"ch-front__sc-1zryw7-2"})(["width:100% !important;padding-bottom:","px !important;"],(function(t){return t.hasOnlyPreview?0:vt})),Ce=V.d.div.withConfig({displayName:"PartialScreenPushMessagestyled__PreviewSection",componentId:"ch-front__sc-1zryw7-3"})(["width:100% !important;"]),we=Object(V.d)(Lt.ContentSection).withConfig({displayName:"PartialScreenPushMessagestyled__ContentSection",componentId:"ch-front__sc-1zryw7-4"})(["padding:","px ","px 0 !important;"],vt,vt),ye=V.d.div.withConfig({displayName:"PartialScreenPushMessagestyled__Name",componentId:"ch-front__sc-1zryw7-5"})(["margin-right:6px !important;font-weight:bold !important;"," color:"," !important;",""],ht.d.PxSize13,(function(t){var e=t.foundation;return null==e?void 0:e.theme["txt-black-darkest"]}),Object(bt.a)()),xe=Object(V.d)(Lt.MessageWrapper).withConfig({displayName:"PartialScreenPushMessagestyled__MessageWrapper",componentId:"ch-front__sc-1zryw7-6"})(["margin-top:4px !important;> div{"," border-radius:0 !important;}div.","{height:","px !important;}"],ht.d.PxSize15,re.a,ht.a.Lh15*ht.c/2),je=Object(V.d)(Lt.Buttons).withConfig({displayName:"PartialScreenPushMessagestyled__Buttons",componentId:"ch-front__sc-1zryw7-7"})(["padding:","px ","px 0 !important;"],vt,vt),Pe=V.d.div.withConfig({displayName:"PartialScreenPushMessagestyled__ChannelName",componentId:"ch-front__sc-1zryw7-8"})(["display:none !important;"]),Oe=V.d.div.withConfig({displayName:"PartialScreenPushMessagestyled__Dot",componentId:"ch-front__sc-1zryw7-9"})(["display:none !important;"]),Ee=ge(ge({},Lt),{},{ContentCloseArea:be,PreviewCloseArea:_e,Wrapper:ve,PreviewSection:Ce,ContentSection:we,Name:ye,MessageWrapper:xe,Buttons:je,ChannelName:Pe,Dot:Oe});var Ie=function(t){var e=t.className,n=t.time,o=t.name,r=t.message,s=t.avatarUrl,p=t.hidden,d=void 0!==p&&p,u=t.onClickClose,m=void 0===u?a.a:u,f=t.onClickBody,g=void 0===f?a.a:f,b=t.onClick,C=Object(v.a)().translate,w=Object(h.a)(),y=Object(_.a)(),x=Object(l.useRef)(0),O=Object(k.a)(),E=i()(O,3),I=E[0],B=E[1],F=E[2];Object(l.useEffect)((function(){r&&!d&&r.isFullScreen()&&y(r,j.a.View)}),[d]);var z=r.hasPreview(),A=!P.j&&r.isFullScreen(),T=A?he:Ee,R=A?z?Gt.a.FULL_SCREEN_WITH_PREVIEW:Gt.a.FULL_SCREEN:z?Gt.a.PARTIAL_SCREEN_WITH_PREVIEW:Gt.a.PARTIAL_SCREEN,L=Object(M.a)(R),q=i()(L,2),U=q[0],H=q[1],V=Object(l.useMemo)((function(){return c.a.createElement(T.PreviewSection,null,c.a.createElement(Xt,{message:r,onClick:b}))}),[T,r,b]),Y=Object(l.useCallback)((function(){clearTimeout(x.current),B()}),[B]),D=Object(l.useCallback)((function(){x.current=window.setTimeout(F,500)}),[F]),X=Object(l.useMemo)((function(){return r.hasBlocks()||r.isDeletedMessage()||r.getWebPage()?c.a.createElement(S.a,{key:"FullScreenMessage-".concat(r.id),message:r,minimizeEmptyLine:!A,wrapperRef:U,wrapperInterpolation:H}):null}),[r,A,U,H]),G=Object(l.useMemo)((function(){return c.a.createElement(T.ContentHeader,null,c.a.createElement(T.Avatar,{url:s,size:A?W.a.Large:W.a.Normal}),c.a.createElement(T.Name,null,o),c.a.createElement(T.MessageInfo,{hasPreview:z},c.a.createElement(T.ChannelName,null,null==w?void 0:w.name),c.a.createElement(T.Dot,null," · "),c.a.createElement(T.Time,null,Object(N.j)(n))))}),[T,s,o,null==w?void 0:w.name,n,z,A]),J=Object(l.useMemo)((function(){return c.a.createElement(T.ContentSection,null,G,X&&c.a.createElement(T.MessageWrapper,null,X),!z&&c.a.createElement(T.File,{files:r.files}))}),[T,G,X,z,r]),Z=Object(l.useMemo)((function(){return c.a.createElement(T.Buttons,{message:r})}),[T,r]),K=Object(l.useMemo)((function(){return c.a.createElement(T.ContentCloseArea,{show:I,onClick:m},c.a.createElement(T.ContentCloseButton,{hasPreview:z},c.a.createElement(T.CloseIcon,{name:"cancel",size:W.a.XSmall,defaultOpacity:1})))}),[T,I,m,z]),Q=Object(l.useMemo)((function(){return c.a.createElement(T.PreviewCloseArea,{show:I,onClick:m},c.a.createElement(T.PreviewCloseButton,{hasPreview:z},c.a.createElement(T.CloseIcon,{name:"cancel",size:P.j?W.a.Small:W.a.XSmall,defaultOpacity:1}),!P.j&&c.a.createElement(T.CloseText,null,C("ch.common.close"))))}),[T,I,z,m,C]);return d?null:c.a.createElement(T.BaseWrapper,{className:e,onMouseEnter:Y,onMouseLeave:D},Q,c.a.createElement(T.Wrapper,{hidden:d,hasPreview:z,hasOnlyPreview:z&&!r.hasMessagePopupContents()&&!r.hasButton(),onClick:g},z&&V,(r.hasMessagePopupContents()||!z&&r.hasButton())&&J,r.hasButton()&&Z,K))};function ke(t,e){var n=Zt()(t);if(Qt.a){var o=Qt()(t);e&&(o=A()(o).call(o,(function(e){return te()(t,e).enumerable}))),n.push.apply(n,o)}return n}function Me(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ke(Object(n),!0).forEach((function(e){ie()(t,e,n[e])})):ne.a?Object.defineProperties(t,ne()(n)):ke(Object(n)).forEach((function(e){Object.defineProperty(t,e,te()(n,e))}))}return t}var Ne=Object(V.d)(Lt.ContentCloseArea).withConfig({displayName:"BubblePushMessagestyled__ContentCloseArea",componentId:"ch-front__sc-156f1ro-0"})(["padding-top:","px !important;padding-right:","px !important;"],_t,_t),Se=Object(V.d)(Lt.ContentCloseButton).withConfig({displayName:"BubblePushMessagestyled__ContentCloseButton",componentId:"ch-front__sc-156f1ro-1"})(["color:"," !important;background-color:"," !important;&:hover{color:"," !important;background-color:"," !important;}"],(function(t){var e=t.foundation;return null==e?void 0:e.theme["txt-black-dark"]}),(function(t){var e=t.foundation;return null==e?void 0:e.theme["bg-black-lighter"]}),(function(t){var e=t.foundation;return null==e?void 0:e.theme["txt-black-darkest"]}),(function(t){var e=t.foundation;return null==e?void 0:e.theme["bg-black-light"]})),We=Object(V.d)(Lt.Wrapper).withConfig({displayName:"BubblePushMessagestyled__Wrapper",componentId:"ch-front__sc-156f1ro-2"})(["width:100% !important;padding-bottom:","px !important;"],_t),Be=V.d.div.withConfig({displayName:"BubblePushMessagestyled__MainWrapper",componentId:"ch-front__sc-156f1ro-3"})(["display:flex !important;padding:","px ","px 0 !important;"],_t,_t),Fe=V.d.div.withConfig({displayName:"BubblePushMessagestyled__PreviewSection",componentId:"ch-front__sc-156f1ro-4"})(["min-width:unset !important;min-height:unset !important;margin-right:10px !important;border-radius:12px !important;"]),ze=Object(V.d)(Lt.ContentHeader).withConfig({displayName:"BubblePushMessagestyled__ContentHeader",componentId:"ch-front__sc-156f1ro-5"})(["height:24px !important;"]),Ae=V.d.div.withConfig({displayName:"BubblePushMessagestyled__ContentSection",componentId:"ch-front__sc-156f1ro-6"})(["display:flex !important;flex-direction:column !important;width:100% !important;overflow:hidden !important;"]),Te=Object(V.d)(Lt.Avatar).withConfig({displayName:"BubblePushMessagestyled__Avatar",componentId:"ch-front__sc-156f1ro-7"})(["margin-right:6px !important;"]),Re=V.d.div.withConfig({displayName:"BubblePushMessagestyled__Name",componentId:"ch-front__sc-156f1ro-8"})(["margin-right:6px !important;font-weight:bold !important;"," color:"," !important;",""],ht.d.PxSize13,(function(t){var e=t.foundation;return null==e?void 0:e.theme["txt-black-darkest"]}),Object(bt.a)()),Le=V.d.div.withConfig({displayName:"BubblePushMessagestyled__Time",componentId:"ch-front__sc-156f1ro-9"})(["flex-shrink:0 !important;margin-right:30px !important;font-weight:400 !important;"," color:"," !important;"],ht.d.PxSize11,(function(t){var e=t.foundation;return null==e?void 0:e.theme["txt-black-dark"]})),qe=Object(V.d)(Lt.MessageWrapper).withConfig({displayName:"BubblePushMessagestyled__MessageWrapper",componentId:"ch-front__sc-156f1ro-10"})([""," margin-top:4px !important;border-radius:0 !important;> div{","}"],dt.o,ht.d.PxSize15),Ue=Object(V.d)(Lt.File).withConfig({displayName:"BubblePushMessagestyled__File",componentId:"ch-front__sc-156f1ro-11"})(["margin-top:4px !important;"]),He=Object(V.d)(Lt.Buttons).withConfig({displayName:"BubblePushMessagestyled__Buttons",componentId:"ch-front__sc-156f1ro-12"})(["padding:","px ","px 0 !important;"],_t,_t),Ve=Me(Me({},Lt),{},{ContentCloseArea:Ne,ContentCloseButton:Se,Wrapper:We,MainWrapper:Be,PreviewSection:Fe,ContentHeader:ze,ContentSection:Ae,Avatar:Te,Name:Re,Time:Le,MessageWrapper:qe,File:Ue,Buttons:He});var Ye=function(t){var e=t.className,n=t.time,o=t.name,r=t.message,s=t.avatarUrl,p=t.hidden,d=void 0!==p&&p,u=t.onClickClose,m=void 0===u?a.a:u,h=t.onClickBody,f=void 0===h?a.a:h,g=t.onClick,b=r.hasPreview(),_=!b&&r.hasFile()?Gt.a.BUBBLE_WITH_FILE_WITHOUT_PREVIEW:Gt.a.BUBBLE,v=Object(M.a)(_),C=i()(v,2),w=C[0],y=C[1],x=Object(l.useMemo)((function(){return c.a.createElement(Ve.PreviewSection,null,c.a.createElement(Xt,{message:r,onClick:g}))}),[r,g]),j=Object(l.useMemo)((function(){return r.hasBlocks()||r.isDeletedMessage()||r.getWebPage()?c.a.createElement(S.a,{key:"BubbleMessage-".concat(r.id),message:r,wrapperRef:w,wrapperInterpolation:y}):null}),[r,w,y]),P=Object(l.useMemo)((function(){return c.a.createElement(Ve.ContentHeader,null,!b&&c.a.createElement(Ve.Avatar,{url:s,size:W.a.Normal}),c.a.createElement(Ve.Name,null,o),c.a.createElement(Ve.Time,null,Object(N.j)(n)))}),[b,s,o,n]),O=Object(l.useMemo)((function(){return c.a.createElement(Ve.ContentSection,null,P,j&&c.a.createElement(Ve.MessageWrapper,null,j),(!b||!j)&&c.a.createElement(Ve.File,{files:r.files}))}),[P,j,r,b]),E=Object(l.useMemo)((function(){return c.a.createElement(Ve.Buttons,{message:r})}),[r]),I=Object(l.useMemo)((function(){return c.a.createElement(Ve.ContentCloseArea,{onClick:m},c.a.createElement(Ve.ContentCloseButton,null,c.a.createElement(pt.a,{name:"cancel",size:W.a.XSmall,defaultOpacity:1})))}),[m]);return d?null:c.a.createElement(Ve.Wrapper,{className:e,hidden:d,hasPreview:b,onClick:f},c.a.createElement(Ve.MainWrapper,null,b&&x,O),r.hasButton()&&E,I)},De=n(98),Xe=n(1390),Ge=Object(De.e)(["0%,50%{opacity:0;}100%{opacity:1;}"]),Je=function(){return Object(V.c)(["animation:"," 0.4s cubic-bezier(0.1,0,0.6,1) !important;"],Ge)},Ze=Object(De.e)(["0%,50%{opacity:0;transform:translateY(-10px);}100%{opacity:1;transform:translateY(0);}"]),Ke=V.d.div.withConfig({displayName:"PushMessagestyled__FullScreenWrapper",componentId:"ch-front__sc-vqm8p7-0"})(["position:fixed !important;top:0 !important;right:0 !important;bottom:0 !important;left:0 !important;z-index:"," !important;height:100% !important;overflow-y:auto !important;",""],(function(t){return t.zIndex}),Je),Qe=V.d.div.withConfig({displayName:"PushMessagestyled__PCPopupWrapper",componentId:"ch-front__sc-vqm8p7-1"})(["position:fixed !important;z-index:"," !important;"," pointer-events:none !important;",""],(function(t){return t.zIndex}),(function(t){return"left"===t.pushMessagePosition.pluginPosition?Object(V.c)(["left:","px !important;bottom:","px !important;"],t.pushMessagePosition.xPosition,t.pushMessagePosition.yPosition):Object(V.c)(["right:","px !important;bottom:","px !important;"],t.pushMessagePosition.xPosition,t.pushMessagePosition.yPosition)}),(function(){return Object(V.c)(["animation:"," 0.4s cubic-bezier(0.1,0,0.6,1) !important;"],Ze)})),$e=V.d.div.withConfig({displayName:"PushMessagestyled__MobilePopupWrapper",componentId:"ch-front__sc-vqm8p7-2"})(["position:fixed !important;right:10px !important;left:10px !important;z-index:"," !important;"," pointer-events:none !important;"],(function(t){return t.zIndex}),(function(t){return"top"===t.mobileBubblePosition?Object(V.c)(["top:20px !important;"]):Object(V.c)(["bottom:10px !important;"])})),tn=V.d.div.withConfig({displayName:"PushMessagestyled__Dimmer",componentId:"ch-front__sc-vqm8p7-3"})(["box-sizing:border-box !important;display:flex !important;align-items:center !important;justify-content:center !important;min-height:100% !important;padding:20px 0 !important;background-color:"," !important;",""],(function(t){var e=t.foundation;return null==e?void 0:e.theme["bg-black-darkest"]}),Je),en=V.d.div.withConfig({displayName:"PushMessagestyled__PCFullScreenContentWrapper",componentId:"ch-front__sc-vqm8p7-4"})(["width:520px !important;"]),nn=V.d.div.withConfig({displayName:"PushMessagestyled__PartialScreenContentWrapper",componentId:"ch-front__sc-vqm8p7-5"})(["width:320px !important;pointer-events:auto !important;"]),on=V.d.div.withConfig({displayName:"PushMessagestyled__MobilePopupContentWrapper",componentId:"ch-front__sc-vqm8p7-6"})(["min-width:320px !important;max-width:520px !important;pointer-events:auto !important;"]),rn=Object(V.d)(Xe.j).withConfig({displayName:"PushMessagestyled__FormPushMessage",componentId:"ch-front__sc-vqm8p7-7"})(["margin-top:6px !important;"]);e.default=function(){var t=Object(d.c)(),e=Object(v.a)().translate,n=Object(g.a)(),o=Object(h.a)(),r=f(),s=Object(_.a)(),k=Object(d.d)(u.a.pushSelectors.getPushInfo),M=Object(d.d)(u.a.uiSelectors.showChannelButton),N=Object(d.d)(u.a.uiSelectors.showPushMessage),S=Object(C.a)({actionCreator:function(){return m.a.initializeActions.initializePushMessage({showPushMessage:N,emojiIsEmpty:x.b.isEmpty()})}}),W=i()(S,1)[0],B=k.getLastMessage(),F=Object(b.a)("message")(B),z=F.avatarUrl,A=F.name,T=Object(O.d)(),R=Object(l.useMemo)((function(){return w.a.getHidePopup()||!N}),[N]);Object(l.useEffect)((function(){return B.isFullScreen()&&!R?(Object(O.f)().document.body.classList.add("blockScroll"),function(){Object(O.f)().document.body.classList.remove("blockScroll")}):a.a}),[B,R]);var L=Object(l.useMemo)((function(){var t=Object(I.g)(),e=r.getMargin(t),n=!1===M||!o.isInOperation()&&o.isAwayHidden(),i=r.getImage(t),a=null!=i&&i.height?i.height/2+20:76;return{xPosition:e.marginX,yPosition:e.marginY+(n?0:a),pluginPosition:r.getPosition(t)}}),[o,r,M]),q=Object(l.useCallback)((function(){s(B,j.a.Click)}),[B,s]),U=Object(l.useCallback)((function(){t(m.a.userActions.requestClosePopUp()).promise.then((function(){t(m.a.pushActions.setPushNeedToShow({needToShow:!1}))})).catch(a.a)}),[t]),H=Object(l.useCallback)((function(t){t.stopPropagation(),U()}),[U]),V=Object(l.useCallback)((function(e){if("a"===e.target.tagName||"A"===e.target.tagName){e.stopPropagation();var n=e.target.href;return n&&t(m.a.uiActions.clickedRedirect({redirectUrl:n})),q(),void U()}if(w.a.shouldOpenWithNewTab()){var i=k.id;return y.c.open(o,"/user-chats/".concat(i)),void t(m.a.pushActions.setPushNeedToShow({needToShow:!1}))}t(m.a.uiActions.setShowMessenger({showMessenger:!0,disableRedirect:!0})),t(m.a.uiActions.goUserChat({userChatId:k.id}))}),[t,o,k.id,q,U]),Y=function(t){var e=t.children;return B.isFullScreen()?c.a.createElement(Ke,{zIndex:Object(E.d)()},e):P.j?c.a.createElement($e,{zIndex:Object(E.d)(),mobileBubblePosition:r.mobileBubblePosition},e):c.a.createElement(Qe,{zIndex:Object(E.d)(),pushMessagePosition:L},e)},D=function(t){var e=t.children;return B.isFullScreen()&&!R?c.a.createElement(tn,{onClick:H},e):c.a.createElement(c.a.Fragment,null,e)},X=P.j?B.isFullScreen()?nn:on:B.isFullScreen()?en:nn,G=Object(l.useMemo)((function(){return B.hasPreview()||B.hasMessagePopupContents()||B.hasButton()}),[B]),J=Object(l.useMemo)((function(){if(!G)return null;var t={key:B.id,message:B,name:A,time:k.frontUpdatedAt,avatarUrl:z,hidden:R,onClickClose:H,onClickBody:V,onClick:q};return P.j&&!B.isFullScreen()?c.a.createElement(Ye,t):c.a.createElement(Ie,t)}),[z,V,H,G,R,B,A,q,k.frontUpdatedAt]),Z=Object(l.useMemo)((function(){var t,o;if(B.isFullScreen()||!B.form||!B.form.isCustomForm())return null;var i=B.form.inputs,r=null!==(t=null===(o=i[0])||void 0===o?void 0:o.label)&&void 0!==t?t:"",a=1===i.length?e("ch.popup.question"):e("ch.popup.question_count",i.length);return c.a.createElement(rn,{title:r,description:a,color:n.color,bright:n.bright,showCloseIcon:!G,onClick:V,onClickClose:H})}),[V,H,G,B,n.bright,n.color,e]);return!T||R||W?null:p.a.createPortal(c.a.createElement(Y,null,c.a.createElement(D,null,c.a.createElement(X,null,J,Z))),T)}}}]);